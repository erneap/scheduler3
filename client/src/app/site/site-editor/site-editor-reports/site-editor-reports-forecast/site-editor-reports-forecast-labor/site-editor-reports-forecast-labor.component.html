<div class="flexlayout column topleft">
  <h5>Selected Report Labor Codes</h5>
  <div class="list">
    @for (item of laborcodes; track item) {
      <div [class]="setItemClass(item.id)"
        (click)="onSelectLaborCode(item.id)">
        {{item.label}}
      </div>
    }
  </div>
  <form [formGroup]="laborForm" class="flexlayout column center">
    <div class="formlabel formfull"
      style="background-color: black;color: white;">
      Labor Code Editor
    </div>
    <div class="formrow">
      <div class="formlabel">Charge Number *</div>
      <div class="forminput">
        <input matNativeControl formControlName="chargenumber"
          (blur)="onUpdateLaborCode('chargenumber')"
          class="forminput"
          [style]="setLaborInputStyle('chargenumber')">
      </div>
    </div>
    <div class="formrow">
      <div class="formlabel">Extension *</div>
      <div class="forminput">
        <input matNativeControl formControlName="extension"
          class="forminput"
          (blur)="onUpdateLaborCode('extension')"
          [style]="setLaborInputStyle('extension')">
      </div>
    </div>
    <div class="formrow">
      <div class="formlabel">CLIN</div>
      <div class="forminput">
        <input matNativeControl formControlName="clin"
          (blur)="onUpdateLaborCode('clin')"
          class="forminput"
          [style]="setLaborInputStyle('clin')">
      </div>
    </div>
    <div class="formrow">
      <div class="formlabel">SLIN</div>
      <div class="forminput">
        <input matNativeControl formControlName="slin"
          (blur)="onUpdateLaborCode('slin')"
          class="forminput"
          [style]="setLaborInputStyle('slin')">
      </div>
    </div>
    <div class="formrow">
      <div class="formlabel">WBS</div>
      <div class="forminput">
        <input matNativeControl formControlName="wbs"
          (blur)="onUpdateLaborCode('wbs')"
          class="forminput"
          [style]="setLaborInputStyle('wbs')">
      </div>
    </div>
    <div class="formrow">
      <div class="formlabel">Location</div>
      <div class="forminput">
        <input matNativeControl formControlName="location"
          (blur)="onUpdateLaborCode('location')"
          class="forminput"
          [style]="setLaborInputStyle('location')">
      </div>
    </div>
    <div class="formrow">
      <div class="formlabel">Slots</div>
      <div class="forminput">
        <input matNativeControl formControlName="minimum"
          type="number"
          (blur)="onUpdateLaborCode('minimum')"
          class="forminput"
          [style]="setLaborInputStyle('minimum')">
      </div>
    </div>
    <div class="formrow">
      <div class="formlabel">Contract Hours</div>
      <div class="forminput">
        <input matNativeControl formControlName="hoursPerEmployee"
          (blur)="onUpdateLaborCode('hoursPerEmployee')"
          class="forminput"
          [style]="setLaborInputStyle('hoursPerEmployee')">
      </div>
    </div>
    <div class="formrow">
      <div class="formlabel">Empty Name</div>
      <div class="forminput">
        <input matNativeControl formControlName="notAssignedName"
          (blur)="onUpdateLaborCode('notAssignedName')"
          class="forminput"
          [style]="setLaborInputStyle('notAssignedName')">
      </div>
    </div>
    <div class="formrow">
      <div class="formlabel">Charge Start Date</div>
      <div class="forminput" style="background-color: white;">
        <input matNativeControl formControlName="startDate"
          style="border: none;width: 60px;"
          [matDatepicker]="startpicker"
          (dateChange)="onUpdateLaborCode('startDate')">
        <mat-datepicker-toggle matIconSuffix [for]="startpicker"></mat-datepicker-toggle>
        <mat-datepicker #startpicker></mat-datepicker>
      </div>
    </div>
    <div class="formrow">
      <div class="formlabel">Charge End Date</div>
      <div class="forminput" style="background-color: white;">
        <input matNativeControl formControlName="endDate"
          style="border: none;width: 60px;"
          [matDatepicker]="endpicker"
          (dateChange)="onUpdateLaborCode('endDate')">
        <mat-datepicker-toggle matIconSuffix [for]="endpicker"></mat-datepicker-toggle>
        <mat-datepicker #endpicker></mat-datepicker>
      </div>
    </div>
    <div class="formrow">
      @if (laborForm.valid && selected.chargeNumber === 'new') {
        <button mat-raised-button color="accent"
        (click)="onAddLaborCode()">Add</button>
      }
      <button mat-raised-button
      (click)="onSelectLaborCode('new-new')">Clear</button>
      @if (selected.chargeNumber !== 'new') {
        <button mat-raised-button color="warn"
        (click)="onDeleteLaborCode()">Delete</button>
      }
    </div>
  </form>
</div>