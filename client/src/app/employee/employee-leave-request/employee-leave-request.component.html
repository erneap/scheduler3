<div class="toplevel">
  <h2>Leave Request Editor</h2>
  @if (!appState.isMobile()) {
    <div class="list">
      @for (item of requests; track item) {
        <div [class]="itemClass(item.id)"
          (click)="onSelect(item.id)">
          {{item.label}}
        </div>
      }
    </div>
    <div class="view">
      @if (showEditor()) {
        <app-employee-leave-request-editor [employee]="employee"
          [request]="selected" [width]="width - 270" [height]="height"
          (changed)="onChange($event)">
        </app-employee-leave-request-editor>
      }
    </div>
  }
  @if (appState.isMobile()) {
    <form [formGroup]="requestForm">
      <mat-form-field appearance="fill" style="width: 95%;">
        <mat-label>Selected Request</mat-label>
        <mat-select formControlName="request"
          (selectionChange)="onSelectMobile()">
          @for (item of requests; track item) {
            <mat-option [value]="item.id">
              {{item.label}}
            </mat-option>
          }
        </mat-select>
      </mat-form-field>
    </form>
    <div class="mobileview">
      @if (showEditor()) {
        <app-employee-leave-request-editor [employee]="employee"
          [request]="selected" [width]="width - 20" [height]="height - 70"
          (changed)="onChange($event)">
        </app-employee-leave-request-editor>
      }
    </div>
  }
</div>